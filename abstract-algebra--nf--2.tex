\section*{Problem  Set 2}

\begin{mdframed}
  \includegraphics[width=400pt]{img/algebra--nf--2-d8d7.png}
\end{mdframed}

\blue{{\it Note: This exercise was not among those set, but is a sort of lemma for exercise 5.}}

{\it {\bf Intuition:} The only one which is its own inverse is the one ``half way around​'' the cycle, which only exists if $n$ is even. }


\begin{proof}~\\
  {\bf (a)} Suppose there exists $i \in \{1, 2, \ldots, n - 1\}$ such that $x^i = x^{-1}$.
  Then $x^{2i} = e$. Therefore \green{$n | 2i$ and, since $n$ is odd, $n | i$ which
    contradicts $0 < i < n$} (my original argument was more convoluted).

\begin{comment}
  {\bf (b)}\\
  $\implies$~\\
  Suppose $i = k = n/2$. Then $(x^i)^2 = x^{2i} = x^n = e$, therefore $x^i = x^{-i}$.


  $\impliedby$~\\
  Suppose $x^i = x^{-i}$ for some $i \in \{1, 2, \ldots, n - 1\}$. Then
  $(x^i)^2 = x^{2i} = e$. Since $|x| = n$, we have $2i \geq n$. Suppose $2i > n$. Then $2i - n < n$
  since $2i < 2n - 1$. But $x^{2i - n} = x^{2i}x^{-n} = e \cdot e = e$ which is a contradiction
  since $|x| = n$.
\end{comment}
\end{proof}

\begin{mdframed}
In these exercises, $D_{2n}$ has the presentation $D_{2n} = \langle r, s ~|~ r^n = s^2 = 1, rs = sr^\1 \rangle$.
\end{mdframed}

\begin{mdframed}
\includegraphics[width=400pt]{img/algebra--nf--2-21ce.png}
\end{mdframed}


\begin{proof}
  Let $n$ be odd and let $x$ be a non-identity element of $D_{2n}$.

  We will exhibit, for any given non-identity element of $D_{2n}$, an element with which it does
  not commute. There are two cases:

  {\bf Case 1}:  $x = r^i$ for some $1 \leq i < n$ \\
  Take $y = s$. Then $xy = r^is$ and $yx = sr^i = r^{-i}s$ via a dihedral relation. But from
  exercise 33a above, for odd $n$, we have $r^i \neq r^{-i}$ for all $1 \leq i < n$, hence $xy \neq yx$.


  {\bf Case 2:}  $x = r^is$ for some $0 \leq i < n$ \\
  Take $y = r$. Then $xy = r^isr = r^ir^\1s = r^{i - 1}s$ and
  \begin{align*}
    xy &= r^isr = r^ir^\1s = r^{i - 1}s
  \end{align*}
  and
  \begin{align*}
    yx &= rr^is = r^{i+1}s.
  \end{align*}
  But $r^{i-1} \neq r^{i+1}$ so $xy \neq yx$.
\end{proof}



\newpage
\begin{mdframed}
\includegraphics[width=400pt]{img/algebra--nf--2-9bae.png}\\
\includegraphics[width=400pt]{img/algebra--nf--2-e89d.png}
\end{mdframed}

\begin{proof}
  First note that every element of $D_{2n}$ which is not a power of $r$ can be written
  as $x = r^is$ for some $0 \leq i < n$, and that such an element is not the identity.

  We see that $x^2 = r^isr^is = sr^{-i}r^is = s^2 = 1$, therefore every element of $D_{2n}$ which is
  not a power of $r$ has order $2$.

  Furthermore note that $s\cdot sr = r$ hence $D_{2n}$ is generated by $s$ and $sr$, since we can
  compute the known generators $s$ and $r$ from them.
\end{proof}


\begin{mdframed}
\includegraphics[width=400pt]{img/algebra--nf--2-bb2c.png}
\end{mdframed}


\begin{proof}
  Let $a = s$ and $b = sr$ and note that $ab = s^2r$.

  $\implies$\\
  For the forward implication, suppose $a^2 = b^2 = (ab)^n = 1$. We want to show that the standard
  relations $r^n = s^2 = 1$ and $rs = sr^\1$ hold.

  $s^2 = 1$ is immediate, since we have $a = s$ by definition and $a^2 = 1$ by supposition.

  This gives us $ab = s^2r = 1r = r$. Therefore $r^n = 1$, since $(ab)^n = 1$ by supposition.

  Finally, we have $b = sr$ and $b^2 = 1$, therefore $srsr = 1$. Now, multiplying on the left
  by $s^\1$ and on the right by $r^\1$, we have $rs = s^\1r^\1 = sr^\1$ as required, since
  $s^2 = 1$ implies $s^\1 = s$.



  $\impliedby$\\
  For the reverse implication, suppose $r^n = s^2 = 1$ and $rs = sr^\1$. We want to show that $a^2 = b^2 = (ab)^n = 1$.

  $a^2 = 1$ is immediate since we have $a = s$ by definition and $s^2 = 1$ by supposition.

  Next, we have $ab = s^2r = r$ since $s^2 = 1$ by supposition. Therefore $(ab)^n = 1$ since
  $r^n = 1$ by supposition.

  Finally, we have $rs = sr^\1$ by supposition. Multiplying on the left by $s$ and on the right
  by $r$, gives $srsr = s^2r^\1r$, hence $b^2 = 1$ since $b = sr$ by definition and $s^2 = 1$ by
  supposition.


  We've shown that the relations for $r$ and $s$ in the standard presentation for $D_{2n}$ hold if
  and only if the relations $a^2 = b^2 = (ab)^n = 1$ hold. Therefore the latter relations also give a
  presentation for $D_{2n}$.
\end{proof}




\newpage
\begin{mdframed}
\includegraphics[width=400pt]{img/algebra--nf--2-0db6.png}
\end{mdframed}


\begin{example*}
\begin{verbatim}

sigma^0       1  2  3  4  5  6         (1)(2)(3)(4)(5)(6)
sigma^1       6  1  2  3  4  5         (1  2  3  4  5  6)
sigma^2       5  6  1  2  3  4         (1  3  5)(2  4  6)
sigma^3       4  5  6  1  2  3         (1  4)(2  5)(3  6)
sigma^4       3  4  5  6  1  2         (1  5  3)(2  6  4)
sigma^5       2  3  4  5  6  1         (1  6  5  4  3  2)
sigma^6       1  2  3  4  5  6         (1)(2)(3)(4)(5)(6)
\end{verbatim}
\end{example*}

\begin{proof}
  Under repeated application of $\sigma^i$, the positions visited by the element $1$ form the
  sequence $(ki + 1 \mod m)$ for $k=0, 1, 2, \ldots$.

  Note that an element of this sequence is equal to $1$ if and only if $ki$ is a multiple of $m$.
  Therefore, the first time the sequence returns to $1$ occurs when $ki = \lcm(i, m)$ and we see
  that in the cycle decomposition of $\sigma^i$, the element $1$ belongs to a cycle of
  length $\lcm(i, m) / i$.

  Therefore $\sigma^i$ is an $m$-cycle if and only if $\lcm(i, m) = im$, which is true if and only
  if $i$ and $m$ are relatively prime.

  (To see the last claim, note that from a fundamental theorem regarding $\lcm$ and $\gcd$ we
  have $\lcm(a, b) = ab / \gcd(a, b)$. Therefore $\lcm(i, m) = im$ is true if and only
  if $\gcd(i, m) = 1$, i.e. they are relatively prime.)
\end{proof}



~\\~\\
\begin{mdframed}
\includegraphics[width=400pt]{img/algebra--nf--2-3beb.png}
\end{mdframed}

\begin{proof}
  Let $x \in S_n$ with cycle decomposition $x = \sigma_1\sigma_2\cdots\sigma_k$ and
  let $N = \lcm(|\sigma_1|, |\sigma_2|, \ldots, |\sigma_k|)$. We must show that $N$ is the smallest positive integer
  such that $x^N = 1$.

  Since the cycles in the decomposition commute and since $N$ is a multiple of the order of every
  cycle in the decomposition, we have $x^N = (\sigma_1\sigma_2\cdots\sigma_k)^N = \sigma_1^N\sigma_2^N\cdots\sigma_k^N = 1^N1^N\cdots1^N = 1$.

  Finally, suppose that $x^M = 1$ for some $M < N$, so that we have
  $\sigma_1^M\sigma_2^M\cdots\sigma_k^M = 1$. But since the cycles in the decomposition are disjoint, this implies (*)
  that $\sigma_i^M = 1$ for every $i = 1, 2, \ldots, k$. Therefore $M$ is a multiple of
  $|\sigma_i|$. But this contradicts the fact that $N$ is the $\lcm$, therefore no such $M < N$ exists.

  To see the claim (*), suppose that $\sigma_i^M \neq 1$ for some $i$. Then, rearranging the order of the
  commuting cycles if necessary, we have $\prod_{j \neq i}\sigma_j^M = (\sigma_i^M)^\1$. But this is impossible: the
  cycles $\sigma_j$ are disjoint, therefore their powers $\sigma_j^M$ are disjoint also, and we cannot form
  the inverse of a non-identity element $\sigma_i^M$ from a product of elements that are disjoint
  with $\sigma_i^M$.
\end{proof}

you can pick any element that is not taken to itself by $\sigma_i^M$ (which must exist because
$\sigma_i^M$ isn't the identity) and then argue that since the $\sigma_j^M$'s are disjoint, this element is
also not taken to itself by their product.



~\\~\\
\begin{mdframed}
\includegraphics[width=400pt]{img/algebra--nf--2-b38d.png}
\end{mdframed}

\begin{proof}
  For $n \geq 4$, a permutation in $S_n$ which is the product of two disjoint $2$-cycles is defined by
  an unordered specification of two disjoint subsets of $\{1, 2, \ldots, n\}$ of size $2$. The number of
  ways to do so is equal to
  \begin{align*}
    \frac{1}{2}{n \choose 2}{n - 2 \choose 2} = \frac{1}{2}\frac{n(n-1)}{2}\frac{(n-2)(n-3)}{2} = \frac{n(n-1)(n-2)(n-3)}{8},
  \end{align*}
  where the factor of $\frac{1}{2}$ is the double-counting correction that converts a count of
  ordered pairs to a count of unordered pairs.
\end{proof}




~\\~\\
6\\

Notes:

\begin{itemize}
\item The sign of a permutation can be defined as the parity of the number of inversions. But
  inversions are only defined if there's a total ordering on the set being permuted.
\item Alternatively it can be defined as the parity of the number of transpositions in a decomposition.
  This exercise shows that this is the same for all possible decompositions into transpositions.
\end{itemize}


\begin{mdframed}
\includegraphics[width=400pt]{img/algebra--nf--2-9aa2.png}
\end{mdframed}

\begin{proof}
  Note that any cycle can be written as a product of transpositions:
  \begin{align*}
     (a_1, a_2, \ldots, a_k) = (a_1, a_k)(a_1, a_{k-1}) \cdots (a_1, a_2).
  \end{align*}
  Therefore any $\sigma \in S_n$ can be written as a product of transpositions by first forming its cycle
  decomposition and then replacing each cycle in the decomposition with a product of transpositions
  formed as above.
\end{proof}


Alternative (constructive) proof:

Note: in this proof, $(\cdots)$ is used to denote a permutation in ``one-line​'' notation; not cycle notation.


\begin{proof}
  Let $\sigma \in S_n$ and for $i, j = 1, 2, \ldots, n$, let $\tau_{i,j}$ be the transposition of elements
  $i$ and $j$, where $\tau_{i,i} = e$. We construct $\sigma$ as a product of transpositions as follows:

  \begin{enumerate}
  \item Set $x = (1, 2, \ldots, n)$
  \item For $i = 1, 2, \ldots, n$
    \begin{enumerate}
    \item Let $j$ be the index position of $\sigma(i)$ in $x$.
    \item Apply the transposition $\tau_{i,j}$ to $x$.
    \end{enumerate}
  \end{enumerate}
  Note that:
  \begin{itemize}
  \item Instruction 2a is well-defined because $\sigma(i)$ always occurs at exactly one location in
    $x$. This is true because $\sigma(i) \in \{1, 2, \ldots, n\}$, and $x$ is initialized to a permutation
    of $\{1, 2, \ldots, n\}$, and thereafter is altered only by applying transpositions.
  \item On execution of instruction 2b, $x_i = \sigma(i)$. Thereafter, the value of $x_i$ never changes,
    since in the subsequent iterations of the loop, instruction 2a always sets $j$ equal to the
    index position of $\sigma(i')$ for some $i' > i$.
  \end{itemize}

  Therefore, when this procedure terminates, $x = (\sigma(1), \sigma(2), \ldots, \sigma(n))$, i.e.
  $x$ is $\sigma$ written in ``one-line​'' notation. Since we used only transpositions in the algorithm,
  and $\sigma$ was arbitrary, $S_n$ is generated by its transpositions.
\end{proof}



\begin{mdframed}
\includegraphics[width=400pt]{img/algebra--nf--2-d8ce.png}
\end{mdframed}


The identity is even since it has zero inversions.

A transposition is odd. To see this, consider the transposition $(i, j)$. Clearly it has
the $\{i, j\}$ inversion. And we also get $2(|i - j| - 1)$ additional inversions since, for every
inversion induced by $i$ "crossing over" an intervening position, there is a matching inversion
induced by $j$ "crossing over" in the opposite direction. So the total number is odd.

For example, the transposition $(1, 4)$ has $5$ inversions:
\begin{mdframed}
\includegraphics[width=400pt]{img/abstract-algebra--nf--2-e92f.png}
\end{mdframed}




\begin{mdframed}
\includegraphics[width=400pt]{img/algebra--nf--2-179c.png}
\end{mdframed}

\begin{intuition}
  Visualize positions $1, 2, \ldots n$ as a fixed sequence of slots, linearly arrayed left to right.
  Each position has a removable label on which is written the number of that position. Thus
  initially, the labels are in order. A ``permutation​'' rearranges the labels so that they may no
  longer be in order. Viewed as a function, permutation $\sigma$ maps position $i$ to the new position
  of the label that was in position $i$. For example, after applying $\sigma$ to the initial state, the
  label numbered $i$ is in position $\sigma(i)$.

  \begin{mdframed}
    \includegraphics[width=400pt]{img/abstract-algebra--nf--2-d7ca.png}
  \end{mdframed}

  We say that two positions are inverted if the label in the position to the left holds a larger
  value than that to the right.


  We now ask what the effect is of $\tau$ on the number of inverted positions.
\end{intuition}

\begin{proof}
  Let $\sigma \in S_n$ be any permutation. Recall that this means that $\sigma(a)$ is the new position at which
  the value $a$ is located, for any $a = 1, 2, \ldots, n$.

  Let $\tau \in S_n$ be the transposition of positions $i$ and $j$, where (WLOG) $i < j$. Note
  that $i = \sigma^{-1}(c)$ and $j = \sigma^{-1}(d)$ for some $c \neq d$. In other words, there exists some
  $c$ that is sent to $i$ by $\sigma$, and some $d \neq c$ that is sent to $j$ by $\sigma$.

  We are interested in how the number of pairs of inverted positions changes as we move from
  $\sigma$ to $\tau\sigma$. Specifically, we will determine the parity of the difference between the number of
  pairs of index positions that are inverted under $\tau\sigma$, and the number inverted under $\sigma$.

  Let $a, b$ be any pair of positions with $a < b$.

  Note that if neither $a$ nor $b$ are $\sigma^{-1}(i)$ or $\sigma^{-1}(j)$ then the inversion status
  of $(a, b)$ is unchanged. Therefore we need only consider pairs $(a, b)$ where $a < b$ and
  either $a$ or $b$ are $\sigma^{-1}(i)$ or $\sigma^{-1}(j)$

  Next suppose $\sigma(a) = i$ and $\sigma(b) = j$. Then $(a, b)$ were not inverted under $\sigma$ but become
  inverted under $\tau\sigma$. Alternatively suppose $\sigma(b) = i$ and $\sigma(a) = j$. Then
  $(a, b)$ were inverted under $\sigma$ and that inversion is lost under $\tau\sigma$. Therefore there exists a
  pair $(\sigma(a), \sigma(b))$ that changes the inversion count by $\pm1$.


  It remains to examine pairs where exactly one of $i$ or $j$ is $\sigma(a)$ or $\sigma(b)$.





 This means
  that
  \begin{align*}
    \tau(a) =
    \begin{cases}
      j &\text{if}~a = i\\
      i &\text{if}~a = j\\
      a &\text{otherwise}.
    \end{cases}
  \end{align*}




  Suppose positions $(a, b)$ are inverted under $\sigma$, i.e. $a < b$ and $\sigma(b) < \sigma(a)$. If neither
  $i$ nor $j$ are $\sigma(a)$ or $\sigma(b)$ then $(a, b)$ remains inverted under $\tau\sigma$.


  Therefore, it suffices to examine the change in inversion count due to pairs $(a, b)$ where
  (WLOG) $a < b$ and either $\sigma(a)$ or $\sigma(b)$ is $i$ or $j$.

  Define $I_\rho$ to be the set of inversions of $\rho \in S_n$.









  Next note that the pair $(i, j)$ contributes a change of $\pm 1$, since
  $(i, j) \in I_{\tau\sigma}$ iff $(i, j) \notin I_\sigma$.

  It remains to examine pairs in which one position is $i$ or $j$, and the other is
  $k \notin \{i, j\}$. There are the following cases:

  {\it I think I should do more to show that my claimed even changes to the inversion count follow
    from the ``iff​'' equivalences below but I've been through many attempted versions of this proof
    and have ran out of time. Hopefully it's lacking in steps rather than wrong.}

  \begin{enumerate}
  \item $k < i$\\
    Such pairs cause no change to the inversion count since $(k, i) \in I_{\tau\sigma}$ iff
    $(k, j) \in I_{\sigma}$ and $(k, j) \in I_{\tau\sigma}$ iff $(k, i) \in I_{\sigma}$.
  \item $i < k < j$\\
    We have that $(i, k) \in I_{\tau\sigma}$ iff $(k, j) \notin I_\sigma$ and
    $(k, j) \in I_{\tau\sigma}$ iff $(i, k) \notin I_\sigma$. It follows that the change in inversion count due to
    these pairs is even.
  \item $k > j$\\
    Similar to the case $k < i$, such pairs cause no change to the inversion count
    since $(i, k) \in I_{\tau\sigma}$ iff $(j, k) \in I_{\sigma}$ and $(j, k) \in I_{\tau\sigma}$ iff $(i, k) \in I_{\sigma}$.
  \end{enumerate}

  Thus we see that the difference between the number of pairs of positions that are inverted
  under $\tau\sigma$, and the number inverted under $\sigma$ is odd, from which the desired result follows.
\end{proof}


\begin{mdframed}
\includegraphics[width=400pt]{img/algebra--nf--2-05a9.png}
\end{mdframed}

\begin{proof}
  First note that it follows from result (c) above that the product of an even number of
  transpositions is an even permutation, and the product of an odd number of transpositions is an
  odd permutation. To see this, note that we can rewrite any product $\tau_1\tau_2\cdots\tau_K$
  as $\tau_1(\tau_2(\cdots(\tau_K(1))))$ and, since $1$ is an even permutation, it follows from
  result (c) that this product is even if and only if $K$ is even.

  Therefore, since $S_n$ is generated by its transpositions, an even permutation can be written as
  a product of an even number of transpositions (but not an odd number) and an odd permutation can
  be written as a product of an odd number of transpositions (but not an even number).

  The desired result follows: if $\sigma_1$ and $\sigma_2$ are both even (resp. odd), then write them both as
  products of even (resp. odd) numbers of transpositions, and observe that the total number of
  transpositions in the product of the two is even, and therefore that that product is an even
  permutation. Alternatively if one of $\sigma_1$ and $\sigma_2$ is odd and the other even, then write one as
  a product of an odd number of transpositions and the other as the product of an even number of
  transpositions, and observe that the total number of transpositions in the product of the two is
  odd, and therefore that that product is an odd permutation.
\end{proof}
